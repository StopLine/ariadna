## Context

Текущий код в `src/extension.ts` содержит две почти идентичные команды VS Code:
- `ariadna.insertNodeBefore` (строки 460-471)
- `ariadna.insertNodeAfter` (строки 472-483)

Единственное различие между ними — параметр индекса для `Array.splice()`: `container.index` vs `container.index + 1`.

## Goals / Non-Goals

**Goals:**
- Устранить дублирование кода применением DRY principle
- Улучшить поддерживаемость (изменения в одном месте вместо двух)
- Сохранить существующее поведение команд

**Non-Goals:**
- Изменение публичного API команд VS Code
- Изменение поведения команд с точки зрения пользователя
- Оптимизация производительности (уже достаточно быстро)

## Decisions

### Decision 1: Создать внутреннюю функцию вместо изменения сигнатур команд

**Подход:** Создать приватную функцию `insertNodeRelative(node: Node, offset: number): void`, которая содержит общую логику. Обработчики команд становятся тонкими обёртками.

**Альтернативы рассмотрены:**
- Параметризовать одну команду — отклонено, так как это изменяет публичный API VS Code
- Использовать замыкание — излишне сложно для такого простого случая

**Ратionale:** Минимальное изменение, максимальная читаемость, сохранение публичного API.

### Decision 2: Размещение функции

**Подход:** Разместить `insertNodeRelative()` рядом с другими вспомогательными функциями (после `createEmptyNode`, до команд).

**Ратionale:** Соответствует существующей структуре кода в файле.

## Risks / Trade-offs

- **Риск:** Дополнительный вызов функции добавляет незначительный оверхед
  → **Смягчение:** Пренебрежимо для операций UI; современные JS-движки оптимизируют такие вызовы
