# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–º–µ–Ω—é "Marks" –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —É–∑–ª–∞

## Context
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏-–º–µ—Ç–∫–∏ –Ω–∞ —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é. –°–∏–º–≤–æ–ª –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ `caption` —É–∑–ª–∞.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. package.json ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –ø–æ–¥–º–µ–Ω—é –∏ –∫–æ–º–∞–Ω–¥

**–î–æ–±–∞–≤–∏—Ç—å `contributes.submenus`** (–Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è):
```json
"submenus": [
  {
    "id": "ariadna.marksSubmenu",
    "label": "Marks"
  }
]
```

**–î–æ–±–∞–≤–∏—Ç—å 6 –∫–æ–º–∞–Ω–¥** –≤ `contributes.commands`:
- `ariadna.markCheck` ‚Äî "‚úÖ"
- `ariadna.markExclamation` ‚Äî "‚ùó"
- `ariadna.markQuestion` ‚Äî "‚ùì"
- `ariadna.markFire` ‚Äî "üî•"
- `ariadna.markCross` ‚Äî "‚ùå"
- `ariadna.markHeart` ‚Äî "‚ù§Ô∏è"

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–º–µ–Ω—é –≤ `contributes.menus.view/item/context`:**
```json
{
  "submenu": "ariadna.marksSubmenu",
  "when": "view == ariadnaView && viewItem == nodeItem",
  "group": "3_marks"
}
```

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é `contributes.menus.ariadna.marksSubmenu`** —Å 6 –ø—É–Ω–∫—Ç–∞–º–∏ ‚Äî –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥—É—é –∫–æ–º–∞–Ω–¥—É.

### 2. src/extension.ts ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

–î–æ–±–∞–≤–∏—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `prependMark(node: Node, mark: string)`:
- –î–æ–±–∞–≤–ª—è–µ—Ç `mark + ' '` –≤ –Ω–∞—á–∞–ª–æ `node.caption`
- –ï—Å–ª–∏ caption —É–∂–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ ‚Äî —É–±–∏—Ä–∞–µ—Ç –µ–≥–æ (toggle-–ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –û–±–Ω–æ–≤–ª—è–µ—Ç tree –∏ detail provider

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å 6 –∫–æ–º–∞–Ω–¥, –∫–∞–∂–¥–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç `prependMark` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–∏–º–≤–æ–ª–æ–º. –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–∞—é—Ç `node: Node` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é ariadnaView.

## –§–∞–π–ª—ã
- `/root/projects/ariadna/package.json` ‚Äî submenus, commands, menus
- `/root/projects/ariadna/src/extension.ts` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- `npm run compile` ‚Äî –±–µ–∑ –æ—à–∏–±–æ–∫
- –ó–∞–ø—É—Å–∫ Extension Development Host ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–¥ ‚Üí –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ —É–∑–ª–µ ‚Üí –ø–æ–¥–º–µ–Ω—é "Marks" ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å–∏–º–≤–æ–ª ‚Üí caption –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–µ –∏ –≤ –¥–µ—Ç–∞–ª–∏
